# Token Admin åŽå°ç®¡ç†æŒ‡å—

## è®¿é—® Token ç®¡ç†é¡µé¢

### æ–¹å¼ 1: ç›´æŽ¥è®¿é—®

```
http://localhost:8000/admin/automation/courttoken/
```

### æ–¹å¼ 2: é€šè¿‡ Admin é¦–é¡µ

1. è®¿é—® `http://localhost:8000/admin/`
2. æ‰¾åˆ° **Automation** åº”ç”¨
3. ç‚¹å‡» **Tokenç®¡ç†**

## åŠŸèƒ½è¯´æ˜Ž

### åˆ—è¡¨é¡µåŠŸèƒ½

#### æ˜¾ç¤ºå­—æ®µ

| å­—æ®µ | è¯´æ˜Ž |
|------|------|
| ID | Token è®°å½• ID |
| ç½‘ç«™åç§° | å¦‚ court_zxfw |
| è´¦å· | ç™»å½•è´¦å· |
| Token é¢„è§ˆ | æ˜¾ç¤ºå‰ 20 ä¸ªå­—ç¬¦ |
| Token ç±»åž‹ | Bearer, JWT ç­‰ |
| çŠ¶æ€ | âœ… æœ‰æ•ˆ / âŒ å·²è¿‡æœŸ |
| è¿‡æœŸæ—¶é—´ | Token è¿‡æœŸçš„å…·ä½“æ—¶é—´ |
| åˆ›å»ºæ—¶é—´ | Token åˆ›å»ºæ—¶é—´ |
| æ›´æ–°æ—¶é—´ | Token æœ€åŽæ›´æ–°æ—¶é—´ |

#### æœç´¢åŠŸèƒ½

å¯ä»¥æŒ‰ä»¥ä¸‹å­—æ®µæœç´¢ï¼š
- ç½‘ç«™åç§°
- è´¦å·
- Token å†…å®¹

#### è¿‡æ»¤åŠŸèƒ½

å¯ä»¥æŒ‰ä»¥ä¸‹æ¡ä»¶è¿‡æ»¤ï¼š
- ç½‘ç«™åç§°
- Token ç±»åž‹
- åˆ›å»ºæ—¶é—´
- è¿‡æœŸæ—¶é—´

#### æ‰¹é‡æ“ä½œ

- **åˆ é™¤å·²è¿‡æœŸçš„ Token**: é€‰ä¸­å¤šä¸ª Tokenï¼Œç„¶åŽé€‰æ‹©æ­¤æ“ä½œï¼Œå¯ä»¥æ‰¹é‡åˆ é™¤å·²è¿‡æœŸçš„ Token

### è¯¦æƒ…é¡µåŠŸèƒ½

ç‚¹å‡»æŸä¸ª Token è®°å½•ï¼Œå¯ä»¥æŸ¥çœ‹ï¼š

#### åŸºæœ¬ä¿¡æ¯
- ID
- ç½‘ç«™åç§°
- è´¦å·
- Token ç±»åž‹

#### Token ä¿¡æ¯
- **å®Œæ•´ Token**: æ˜¾ç¤ºå®Œæ•´çš„ Token å­—ç¬¦ä¸²ï¼ˆå¯å¤åˆ¶ï¼‰
- **çŠ¶æ€**: æ˜¾ç¤ºæ˜¯å¦æœ‰æ•ˆ
- **å‰©ä½™æ—¶é—´**: æ˜¾ç¤ºå‰©ä½™æœ‰æ•ˆæ—¶é—´
  - ðŸŸ¢ ç»¿è‰²ï¼šå‰©ä½™æ—¶é—´ > 30 åˆ†é’Ÿ
  - ðŸŸ  æ©™è‰²ï¼šå‰©ä½™æ—¶é—´ 5-30 åˆ†é’Ÿ
  - ðŸ”´ çº¢è‰²ï¼šå‰©ä½™æ—¶é—´ < 5 åˆ†é’Ÿ

#### æ—¶é—´ä¿¡æ¯
- è¿‡æœŸæ—¶é—´
- åˆ›å»ºæ—¶é—´
- æ›´æ–°æ—¶é—´

## ä½¿ç”¨åœºæ™¯

### åœºæ™¯ 1: æŸ¥çœ‹æ‰€æœ‰ Token

1. è®¿é—® Token ç®¡ç†é¡µé¢
2. æŸ¥çœ‹åˆ—è¡¨ä¸­çš„æ‰€æœ‰ Token
3. ä½¿ç”¨è¿‡æ»¤å™¨ç­›é€‰ç‰¹å®šç½‘ç«™æˆ–è´¦å·çš„ Token

### åœºæ™¯ 2: æ£€æŸ¥ Token æ˜¯å¦æœ‰æ•ˆ

1. åœ¨åˆ—è¡¨é¡µæŸ¥çœ‹"çŠ¶æ€"åˆ—
2. âœ… ç»¿è‰²è¡¨ç¤ºæœ‰æ•ˆ
3. âŒ çº¢è‰²è¡¨ç¤ºå·²è¿‡æœŸ

### åœºæ™¯ 3: å¤åˆ¶ Token ä½¿ç”¨

1. ç‚¹å‡»æŸä¸ª Token è®°å½•è¿›å…¥è¯¦æƒ…é¡µ
2. åœ¨"å®Œæ•´ Token"æ–‡æœ¬æ¡†ä¸­é€‰ä¸­å¹¶å¤åˆ¶
3. åœ¨è„šæœ¬æˆ– API è°ƒç”¨ä¸­ä½¿ç”¨

### åœºæ™¯ 4: æ¸…ç†è¿‡æœŸ Token

**æ–¹å¼ 1: æ‰¹é‡åˆ é™¤**
1. åœ¨åˆ—è¡¨é¡µå‹¾é€‰è¦åˆ é™¤çš„ Token
2. é€‰æ‹©"åˆ é™¤å·²è¿‡æœŸçš„ Token"æ“ä½œ
3. ç‚¹å‡»"æ‰§è¡Œ"

**æ–¹å¼ 2: å•ä¸ªåˆ é™¤**
1. ç‚¹å‡»æŸä¸ª Token è®°å½•
2. ç‚¹å‡»"åˆ é™¤"æŒ‰é’®
3. ç¡®è®¤åˆ é™¤

### åœºæ™¯ 5: ç›‘æŽ§ Token çŠ¶æ€

1. è®¿é—® Token ç®¡ç†é¡µé¢
2. æŸ¥çœ‹"å‰©ä½™æ—¶é—´"åˆ—
3. å…³æ³¨å³å°†è¿‡æœŸçš„ Tokenï¼ˆæ©™è‰²æˆ–çº¢è‰²ï¼‰
4. åŠæ—¶é‡æ–°ç™»å½•åˆ·æ–° Token

## æƒé™è¯´æ˜Ž

### åªè¯»æƒé™

Token ç®¡ç†é¡µé¢æ˜¯**åªè¯»**çš„ï¼Œä¸èƒ½æ‰‹åŠ¨æ·»åŠ æˆ–ä¿®æ”¹ Tokenï¼š

- âŒ **ä¸èƒ½æ·»åŠ **: Token åº”è¯¥ç”±ç³»ç»Ÿè‡ªåŠ¨åˆ›å»ºï¼ˆé€šè¿‡æµ‹è¯•ç™»å½•ï¼‰
- âŒ **ä¸èƒ½ä¿®æ”¹**: Token åº”è¯¥ç”±ç³»ç»Ÿç®¡ç†ï¼Œé¿å…æ‰‹åŠ¨ä¿®æ”¹å¯¼è‡´é—®é¢˜
- âœ… **å¯ä»¥æŸ¥çœ‹**: å¯ä»¥æŸ¥çœ‹æ‰€æœ‰ Token çš„è¯¦ç»†ä¿¡æ¯
- âœ… **å¯ä»¥åˆ é™¤**: å¯ä»¥åˆ é™¤è¿‡æœŸæˆ–ä¸éœ€è¦çš„ Token

### å¦‚ä½•åˆ›å»ºæ–° Token

Token ä¸èƒ½æ‰‹åŠ¨åˆ›å»ºï¼Œåªèƒ½é€šè¿‡ä»¥ä¸‹æ–¹å¼ï¼š

1. **æµ‹è¯•ç™»å½•**
   - è®¿é—® `/admin/automation/testcourt/`
   - é€‰æ‹©è´¦å·å‡­è¯
   - ç‚¹å‡»"æµ‹è¯•ç™»å½•"
   - ç³»ç»Ÿè‡ªåŠ¨æ•èŽ·å¹¶ä¿å­˜ Token

2. **è„šæœ¬è°ƒç”¨**
   ```python
   from apps.automation.services.scraper.core.token_service import TokenService
   
   token_service = TokenService()
   token_service.save_token(
       site_name="court_zxfw",
       account="your_account",
       token="your_token",
       expires_in=3600
   )
   ```

## å¿«æ·é“¾æŽ¥

| åŠŸèƒ½ | URL |
|------|-----|
| Token ç®¡ç† | http://localhost:8000/admin/automation/courttoken/ |
| æµ‹è¯•ç™»å½•ï¼ˆåˆ›å»º Tokenï¼‰ | http://localhost:8000/admin/automation/testcourt/ |
| Cookie ç®¡ç† | http://localhost:8000/admin/automation/scrapercookie/ |
| ä»»åŠ¡ç®¡ç† | http://localhost:8000/admin/automation/scrapertask/ |

## å¸¸è§é—®é¢˜

### Q1: ä¸ºä»€ä¹ˆä¸èƒ½æ·»åŠ  Tokenï¼Ÿ

A: Token åº”è¯¥ç”±ç³»ç»Ÿè‡ªåŠ¨åˆ›å»ºï¼Œæ‰‹åŠ¨æ·»åŠ å¯èƒ½å¯¼è‡´æ ¼å¼é”™è¯¯æˆ–å®‰å…¨é—®é¢˜ã€‚è¯·ä½¿ç”¨æµ‹è¯•ç™»å½•åŠŸèƒ½åˆ›å»º Tokenã€‚

### Q2: ä¸ºä»€ä¹ˆä¸èƒ½ä¿®æ”¹ Tokenï¼Ÿ

A: Token æ˜¯æ•æ„Ÿä¿¡æ¯ï¼Œæ‰‹åŠ¨ä¿®æ”¹å¯èƒ½å¯¼è‡´ Token å¤±æ•ˆæˆ–å®‰å…¨é—®é¢˜ã€‚å¦‚éœ€æ›´æ–° Tokenï¼Œè¯·é‡æ–°ç™»å½•ã€‚

### Q3: å¦‚ä½•åˆ·æ–°å³å°†è¿‡æœŸçš„ Tokenï¼Ÿ

A: è®¿é—® `/admin/automation/testcourt/`ï¼Œé€‰æ‹©å¯¹åº”çš„è´¦å·å‡­è¯ï¼Œé‡æ–°æµ‹è¯•ç™»å½•å³å¯åˆ·æ–° Tokenã€‚

### Q4: åˆ é™¤ Token ä¼šå½±å“æ­£åœ¨è¿è¡Œçš„ä»»åŠ¡å—ï¼Ÿ

A: ä¼šçš„ã€‚å¦‚æžœåˆ é™¤äº†æ­£åœ¨ä½¿ç”¨çš„ Tokenï¼Œç›¸å…³ä»»åŠ¡å¯èƒ½ä¼šå¤±è´¥ã€‚å»ºè®®åªåˆ é™¤å·²è¿‡æœŸæˆ–ç¡®è®¤ä¸å†ä½¿ç”¨çš„ Tokenã€‚

### Q5: Token å­˜å‚¨åœ¨å“ªé‡Œï¼Ÿ

A: Token å­˜å‚¨åœ¨ä¸¤ä¸ªåœ°æ–¹ï¼š
- **Redis**: å¿«é€Ÿè®¿é—®ç¼“å­˜
- **æ•°æ®åº“**: æŒä¹…åŒ–å­˜å‚¨

Admin åŽå°æ˜¾ç¤ºçš„æ˜¯æ•°æ®åº“ä¸­çš„ Tokenã€‚

## æœ€ä½³å®žè·µ

1. **å®šæœŸæ¸…ç†**: å®šæœŸåˆ é™¤å·²è¿‡æœŸçš„ Tokenï¼Œä¿æŒæ•°æ®åº“æ•´æ´
2. **ç›‘æŽ§çŠ¶æ€**: å…³æ³¨å³å°†è¿‡æœŸçš„ Tokenï¼ŒåŠæ—¶åˆ·æ–°
3. **å®‰å…¨ç®¡ç†**: ä¸è¦å°† Token åˆ†äº«ç»™ä»–äºº
4. **å¤‡ä»½é‡è¦ Token**: å¯¹äºŽé‡è¦è´¦å·çš„ Tokenï¼Œå»ºè®®è®°å½•åˆ›å»ºæ—¶é—´ï¼Œä¾¿äºŽè¿½è¸ª

## ç›¸å…³æ–‡æ¡£

- [Token æœåŠ¡ä½¿ç”¨æŒ‡å—](./TOKEN_SERVICE_GUIDE.md)
- [å¿«é€Ÿå¼€å§‹æŒ‡å—](./QUICK_START_TOKEN.md)
- [å®žçŽ°æ–‡æ¡£](./TOKEN_CAPTURE_IMPLEMENTATION.md)

---

**æ›´æ–°æ—¶é—´**: 2024-01-XX  
**ç‰ˆæœ¬**: v1.0.0
